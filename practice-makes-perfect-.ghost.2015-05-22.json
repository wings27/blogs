{"db":[{"meta":{"exported_on":1432307127436,"version":"003"},"data":{"app_fields":[],"app_settings":[],"apps":[],"permissions":[{"id":1,"uuid":"ba87c040-e3ca-4968-b72b-c77cf309be43","name":"Export database","object_type":"db","action_type":"exportContent","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":2,"uuid":"2f1d6bf8-329a-4514-adb7-15cd56643898","name":"Import database","object_type":"db","action_type":"importContent","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":3,"uuid":"804a1d2a-19c7-4e9b-bcab-3c18f73d5004","name":"Delete all content","object_type":"db","action_type":"deleteAllContent","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":4,"uuid":"0bbb11d9-77ca-4737-9264-adcd890b1751","name":"Send mail","object_type":"mail","action_type":"send","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":5,"uuid":"e2677773-684a-40e5-9c23-9aebb52a84ec","name":"Browse notifications","object_type":"notification","action_type":"browse","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":6,"uuid":"494c7b62-3dfa-4e4b-b339-aaaf9f39e326","name":"Add notifications","object_type":"notification","action_type":"add","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":7,"uuid":"015702fa-398c-43a5-9b20-ff966c44ff0e","name":"Delete notifications","object_type":"notification","action_type":"destroy","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":8,"uuid":"c12aa826-c23f-47fa-b01e-1fa4273a1271","name":"Browse posts","object_type":"post","action_type":"browse","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":9,"uuid":"683ffa22-c40e-4980-9d3a-c933ae90fb16","name":"Read posts","object_type":"post","action_type":"read","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":10,"uuid":"4a588c60-f767-45e8-9d86-218f70e88d17","name":"Edit posts","object_type":"post","action_type":"edit","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":11,"uuid":"97a13359-d9b1-444c-b354-c10e181053da","name":"Add posts","object_type":"post","action_type":"add","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":12,"uuid":"c4099002-784a-4fde-94f4-8d7b103982d7","name":"Delete posts","object_type":"post","action_type":"destroy","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":13,"uuid":"7769e41e-1976-4144-b343-0ed27ed996d2","name":"Browse settings","object_type":"setting","action_type":"browse","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":14,"uuid":"1d1f6ff7-6005-41c3-bc72-65a0a41d6e38","name":"Read settings","object_type":"setting","action_type":"read","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":15,"uuid":"cecc6e28-855d-401f-bb7a-7e399ab121ff","name":"Edit settings","object_type":"setting","action_type":"edit","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":16,"uuid":"6f5900ed-9c1e-4cd7-af40-4f96e592f7b0","name":"Generate slugs","object_type":"slug","action_type":"generate","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":17,"uuid":"7afc6ecd-e740-4482-b754-bd91d149bf83","name":"Browse tags","object_type":"tag","action_type":"browse","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":18,"uuid":"c1aa2a7b-b2de-4cb8-ae7b-beb3bd7dfd62","name":"Read tags","object_type":"tag","action_type":"read","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":19,"uuid":"5ab0ea33-d83b-421e-b84a-3376c90d4c81","name":"Edit tags","object_type":"tag","action_type":"edit","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":20,"uuid":"a13d3b7d-0467-44ba-a823-0061aa5bbef0","name":"Add tags","object_type":"tag","action_type":"add","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":21,"uuid":"cd300f5d-cac7-4de0-bb91-a98026cc0040","name":"Delete tags","object_type":"tag","action_type":"destroy","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":22,"uuid":"c191e67b-38e7-44c9-9644-d73e408743f6","name":"Browse themes","object_type":"theme","action_type":"browse","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":23,"uuid":"8e3bffb8-6ff5-4e19-9f3c-35e2f51ab8fd","name":"Edit themes","object_type":"theme","action_type":"edit","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":24,"uuid":"9b08f6af-17b3-4d77-8aa9-3b962bac967f","name":"Browse users","object_type":"user","action_type":"browse","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":25,"uuid":"3c918082-a10e-4b60-82d9-fc9ad2f86638","name":"Read users","object_type":"user","action_type":"read","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":26,"uuid":"de84b6e5-1b3f-487a-a0c1-eb0eeea1218b","name":"Edit users","object_type":"user","action_type":"edit","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":27,"uuid":"40cb11c2-b29c-4205-8fb3-94c90b2ea8ae","name":"Add users","object_type":"user","action_type":"add","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":28,"uuid":"cdf7bca7-28b1-457a-96d1-4fb40f2a0084","name":"Delete users","object_type":"user","action_type":"destroy","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":29,"uuid":"19a625e0-2f50-42e3-b970-7ffe7677ed85","name":"Assign a role","object_type":"role","action_type":"assign","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1},{"id":30,"uuid":"5567f046-2691-4dd9-ba06-2d696b0ee8c2","name":"Browse roles","object_type":"role","action_type":"browse","object_id":null,"created_at":"2015-05-20T13:04:03.000Z","created_by":1,"updated_at":"2015-05-20T13:04:03.000Z","updated_by":1}],"permissions_apps":[],"permissions_roles":[{"id":1,"role_id":1,"permission_id":1},{"id":2,"role_id":1,"permission_id":2},{"id":3,"role_id":1,"permission_id":3},{"id":4,"role_id":1,"permission_id":4},{"id":5,"role_id":1,"permission_id":5},{"id":6,"role_id":1,"permission_id":6},{"id":7,"role_id":1,"permission_id":7},{"id":8,"role_id":1,"permission_id":8},{"id":9,"role_id":1,"permission_id":9},{"id":10,"role_id":1,"permission_id":10},{"id":11,"role_id":1,"permission_id":11},{"id":12,"role_id":1,"permission_id":12},{"id":13,"role_id":1,"permission_id":13},{"id":14,"role_id":1,"permission_id":14},{"id":15,"role_id":1,"permission_id":15},{"id":16,"role_id":1,"permission_id":16},{"id":17,"role_id":1,"permission_id":17},{"id":18,"role_id":1,"permission_id":18},{"id":19,"role_id":1,"permission_id":19},{"id":20,"role_id":1,"permission_id":20},{"id":21,"role_id":1,"permission_id":21},{"id":22,"role_id":1,"permission_id":22},{"id":23,"role_id":1,"permission_id":23},{"id":24,"role_id":1,"permission_id":24},{"id":25,"role_id":1,"permission_id":25},{"id":26,"role_id":1,"permission_id":26},{"id":27,"role_id":1,"permission_id":27},{"id":28,"role_id":1,"permission_id":28},{"id":29,"role_id":1,"permission_id":29},{"id":30,"role_id":1,"permission_id":30},{"id":31,"role_id":2,"permission_id":8},{"id":32,"role_id":2,"permission_id":9},{"id":33,"role_id":2,"permission_id":10},{"id":34,"role_id":2,"permission_id":11},{"id":35,"role_id":2,"permission_id":12},{"id":36,"role_id":2,"permission_id":13},{"id":37,"role_id":2,"permission_id":14},{"id":38,"role_id":2,"permission_id":16},{"id":39,"role_id":2,"permission_id":17},{"id":40,"role_id":2,"permission_id":18},{"id":41,"role_id":2,"permission_id":19},{"id":42,"role_id":2,"permission_id":20},{"id":43,"role_id":2,"permission_id":21},{"id":44,"role_id":2,"permission_id":24},{"id":45,"role_id":2,"permission_id":25},{"id":46,"role_id":2,"permission_id":26},{"id":47,"role_id":2,"permission_id":27},{"id":48,"role_id":2,"permission_id":28},{"id":49,"role_id":2,"permission_id":29},{"id":50,"role_id":2,"permission_id":30},{"id":51,"role_id":3,"permission_id":8},{"id":52,"role_id":3,"permission_id":9},{"id":53,"role_id":3,"permission_id":11},{"id":54,"role_id":3,"permission_id":13},{"id":55,"role_id":3,"permission_id":14},{"id":56,"role_id":3,"permission_id":16},{"id":57,"role_id":3,"permission_id":17},{"id":58,"role_id":3,"permission_id":18},{"id":59,"role_id":3,"permission_id":20},{"id":60,"role_id":3,"permission_id":24},{"id":61,"role_id":3,"permission_id":25},{"id":62,"role_id":3,"permission_id":30}],"permissions_users":[],"posts":[{"id":1,"uuid":"a5341c1c-4ad3-4c0e-81af-effba5602926","title":"Welcome to Ghost","slug":"welcome-to-ghost","markdown":"You're live! Nice. We've put together a little post to introduce you to the Ghost editor and get you started. You can manage your content by signing in to the admin area at `<your blog URL>/ghost/`. When you arrive, you can select this post from a list on the left and see a preview of it on the right. Click the little pencil icon at the top of the preview to edit this post and read the next section!\n\n## Getting Started\n\nGhost uses something called Markdown for writing. Essentially, it's a shorthand way to manage your post formatting as you write!\n\nWriting in Markdown is really easy. In the left hand panel of Ghost, you simply write as you normally would. Where appropriate, you can use *shortcuts* to **style** your content. For example, a list:\n\n* Item number one\n* Item number two\n    * A nested item\n* A final item\n\nor with numbers!\n\n1. Remember to buy some milk\n2. Drink the milk\n3. Tweet that I remembered to buy the milk, and drank it\n\n### Links\n\nWant to link to a source? No problem. If you paste in a URL, like http://ghost.org - it'll automatically be linked up. But if you want to customise your anchor text, you can do that too! Here's a link to [the Ghost website](http://ghost.org). Neat.\n\n### What about Images?\n\nImages work too! Already know the URL of the image you want to include in your article? Simply paste it in like this to make it show up:\n\n![The Ghost Logo](https://ghost.org/images/ghost.png)\n\nNot sure which image you want to use yet? That's ok too. Leave yourself a descriptive placeholder and keep writing. Come back later and drag and drop the image in to upload:\n\n![A bowl of bananas]\n\n\n### Quoting\n\nSometimes a link isn't enough, you want to quote someone on what they've said. It was probably very wisdomous. Is wisdomous a word? Find out in a future release when we introduce spellcheck! For now - it's definitely a word.\n\n> Wisdomous - it's definitely a word.\n\n### Working with Code\n\nGot a streak of geek? We've got you covered there, too. You can write inline `<code>` blocks really easily with back ticks. Want to show off something more comprehensive? 4 spaces of indentation gets you there.\n\n    .awesome-thing {\n        display: block;\n        width: 100%;\n    }\n\n### Ready for a Break? \n\nThrow 3 or more dashes down on any new line and you've got yourself a fancy new divider. Aw yeah.\n\n---\n\n### Advanced Usage\n\nThere's one fantastic secret about Markdown. If you want, you can write plain old HTML and it'll still work! Very flexible.\n\n<input type=\"text\" placeholder=\"I'm an input field!\" />\n\nThat should be enough to get you started. Have fun - and let us know what you think :)","html":"<p>You're live! Nice. We've put together a little post to introduce you to the Ghost editor and get you started. You can manage your content by signing in to the admin area at <code>&lt;your blog URL&gt;/ghost/</code>. When you arrive, you can select this post from a list on the left and see a preview of it on the right. Click the little pencil icon at the top of the preview to edit this post and read the next section!</p>\n\n<h2 id=\"gettingstarted\">Getting Started</h2>\n\n<p>Ghost uses something called Markdown for writing. Essentially, it's a shorthand way to manage your post formatting as you write!</p>\n\n<p>Writing in Markdown is really easy. In the left hand panel of Ghost, you simply write as you normally would. Where appropriate, you can use <em>shortcuts</em> to <strong>style</strong> your content. For example, a list:</p>\n\n<ul>\n<li>Item number one</li>\n<li>Item number two\n<ul><li>A nested item</li></ul></li>\n<li>A final item</li>\n</ul>\n\n<p>or with numbers!</p>\n\n<ol>\n<li>Remember to buy some milk  </li>\n<li>Drink the milk  </li>\n<li>Tweet that I remembered to buy the milk, and drank it</li>\n</ol>\n\n<h3 id=\"links\">Links</h3>\n\n<p>Want to link to a source? No problem. If you paste in a URL, like <a href=\"http://ghost.org\">http://ghost.org</a> - it'll automatically be linked up. But if you want to customise your anchor text, you can do that too! Here's a link to <a href=\"http://ghost.org\">the Ghost website</a>. Neat.</p>\n\n<h3 id=\"whataboutimages\">What about Images?</h3>\n\n<p>Images work too! Already know the URL of the image you want to include in your article? Simply paste it in like this to make it show up:</p>\n\n<p><img src=\"https://ghost.org/images/ghost.png\" alt=\"The Ghost Logo\" /></p>\n\n<p>Not sure which image you want to use yet? That's ok too. Leave yourself a descriptive placeholder and keep writing. Come back later and drag and drop the image in to upload:</p>\n\n<h3 id=\"quoting\">Quoting</h3>\n\n<p>Sometimes a link isn't enough, you want to quote someone on what they've said. It was probably very wisdomous. Is wisdomous a word? Find out in a future release when we introduce spellcheck! For now - it's definitely a word.</p>\n\n<blockquote>\n  <p>Wisdomous - it's definitely a word.</p>\n</blockquote>\n\n<h3 id=\"workingwithcode\">Working with Code</h3>\n\n<p>Got a streak of geek? We've got you covered there, too. You can write inline <code>&lt;code&gt;</code> blocks really easily with back ticks. Want to show off something more comprehensive? 4 spaces of indentation gets you there.</p>\n\n<pre><code>.awesome-thing {\n    display: block;\n    width: 100%;\n}\n</code></pre>\n\n<h3 id=\"readyforabreak\">Ready for a Break?</h3>\n\n<p>Throw 3 or more dashes down on any new line and you've got yourself a fancy new divider. Aw yeah.</p>\n\n<hr />\n\n<h3 id=\"advancedusage\">Advanced Usage</h3>\n\n<p>There's one fantastic secret about Markdown. If you want, you can write plain old HTML and it'll still work! Very flexible.</p>\n\n<p><input type=\"text\" placeholder=\"I'm an input field!\" /></p>\n\n<p>That should be enough to get you started. Have fun - and let us know what you think :)</p>","image":null,"featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-20T13:04:02.000Z","created_by":1,"updated_at":"2015-05-21T12:58:41.000Z","updated_by":1,"published_at":"2015-05-20T13:04:02.000Z","published_by":1},{"id":2,"uuid":"c75a2d20-eaaf-46d7-afba-d00f823084cc","title":"你不知道的Linux环境变量","slug":"linux-env","markdown":"Windows上的环境变量配置大家都比较熟悉了，通常我们都会使用系统提供的图形界面来配置，简(shi)单(fen)易(dan)用(teng)。其实Linux上的环境变量配置更为简洁。\n\n#### 环境变量: Windows v.s. Linux\n\n众所周知，Windows的逻辑是系统配置各种扔进注册表里，而Linux的配置通常则是放入文件里。\n\n事实上，以Linux的尿性[^1]，何止配置是文件，简直一切皆文件。[^2]\n\n比如: `cat /dev/urandom > /dev/dsp` 能够在扬声器中播放白噪声。\n\n好玩吧？会玩吗？没玩过吧？[^3]\n\n好像扯远了。。。 \n\nAnyway, Linux 的环境变量配置，正如大家所知道的，只要写入到 `/etc/profile`下就可以了。不过这其实**并不是**推荐的做法。\n\n想知道原因，首先需要了解一下Linux下环境配置文件的加载顺序。\n\n#### Linux 环境配置加载顺序 (以CentOS 7 为例)\nLinux通常有以下几个环境配置文件：\n\n- /etc/profile\n- /etc/profile.d/*.sh\n- ~/.bash_profile\n- ~/.bashrc\n- /etc/bashrc\n\n不同场景下配置文件加载的机制也不同，这里我们分情况来说。\n\n1. 用户正常登录（密码或公钥）进入bash环境。\n加载顺序： \n    `/etc/profile` > `/etc/profile.d/*.sh` > `~/.bash_profile` > `~/.bashrc` > `/etc/bashrc`\n\n2. 使用su切换用户，如 su someuser\n加载顺序：\n`~/.bashrc` > `/etc/bashrc` > `/etc/profile.d/*.sh`\n\n3. ssh连接至非交互环境执行命令\n加载顺序(与2相同)：\n`~/.bashrc` > `/etc/bashrc` > `/etc/profile.d/*.sh`\n\n并且Linux环境加载某个配置文件时，该文件内部有主动加载的配置也会同步地加载（就像传统的方法调用那样），比如 /etc/profile.d/lang.sh 可能会加载 /etc/sysconfig/i18n\n\n以及后面声明的环境变量值会覆盖掉之前的同名变量。\n\n#### 验证\n在我的机器(CentOS 7.0) 上做测试，编辑上述文件，加入不同的环境变量，赋值为当前时间。\n\n例如在`/etc/profile`行首加入: \n\n    export TEST_ETC_PROFILE=`date +'%c %N'`\n\n其余以此类推。\n\n##### 测试结果：\n![测试结果](http://img.blog.csdn.net/20150513234734253)\n\n从时间戳可以看出，上述加载顺序是正确的。\n\n#### 结论\n\n1. 原则上**不推荐**对`/etc/profile`做任何更改，（在`/etc/profile` 头部的注释中就能看到），主要应该是基于维护成本考虑。\n\n2. `/etc/profile.d/*.sh`总是会加载，无论是登录进入bash还是su进入bash都会加载，因此**系统级别**的变量配置脚本推荐放入`/etc/profile.d/`下。（注意后缀名和权限）。\n\n3. 对bash本身的自定义配置推荐写在`~/.bash_profile`里。\n\n4. 自写自用的辅助脚本需要加到`$PATH`的（如 `PATH=$PATH:/opt/scripts` ），推荐写在`~/.bashrc`里。需要多用户共用的，则放在`/etc/bashrc`里。\n\n更多详情参见 CentOS官方文档 [^4] , 解释比较全面，好顶赞！\n\n[^1]: [尿性_互动百科](http://www.baike.com/wiki/%E5%B0%BF%E6%80%A7)\n\n[^2]: [知乎 - Linux 下 “一切皆文件” 思想的本质和好处在哪里？](http://www.zhihu.com/question/25696682)\n\n[^3]: [《主角与配角》经典台词](http://baike.baidu.com/view/598090.htm)\n\n[^4]: [Configuration / Environment Variables | CentOS HowTos](http://centoshowtos.org/environment-variables/)\n\n","html":"<p>Windows上的环境变量配置大家都比较熟悉了，通常我们都会使用系统提供的图形界面来配置，简(shi)单(fen)易(dan)用(teng)。其实Linux上的环境变量配置更为简洁。</p>\n\n<h4 id=\"windowsvslinux\">环境变量: Windows v.s. Linux</h4>\n\n<p>众所周知，Windows的逻辑是系统配置各种扔进注册表里，而Linux的配置通常则是放入文件里。</p>\n\n<p>事实上，以Linux的尿性<sup id=\"fnref:1\"><a href=\"#fn:1\" rel=\"footnote\">1</a></sup>，何止配置是文件，简直一切皆文件。<sup id=\"fnref:2\"><a href=\"#fn:2\" rel=\"footnote\">2</a></sup></p>\n\n<p>比如: <code>cat /dev/urandom &gt; /dev/dsp</code> 能够在扬声器中播放白噪声。</p>\n\n<p>好玩吧？会玩吗？没玩过吧？<sup id=\"fnref:3\"><a href=\"#fn:3\" rel=\"footnote\">3</a></sup></p>\n\n<p>好像扯远了。。。 </p>\n\n<p>Anyway, Linux 的环境变量配置，正如大家所知道的，只要写入到 <code>/etc/profile</code>下就可以了。不过这其实<strong>并不是</strong>推荐的做法。</p>\n\n<p>想知道原因，首先需要了解一下Linux下环境配置文件的加载顺序。</p>\n\n<h4 id=\"linuxcentos7\">Linux 环境配置加载顺序 (以CentOS 7 为例)</h4>\n\n<p>Linux通常有以下几个环境配置文件：</p>\n\n<ul>\n<li>/etc/profile</li>\n<li>/etc/profile.d/*.sh</li>\n<li>~/.bash_profile</li>\n<li>~/.bashrc</li>\n<li>/etc/bashrc</li>\n</ul>\n\n<p>不同场景下配置文件加载的机制也不同，这里我们分情况来说。</p>\n\n<ol>\n<li><p>用户正常登录（密码或公钥）进入bash环境。 <br />\n加载顺序： \n<code>/etc/profile</code> > <code>/etc/profile.d/*.sh</code> > <code>~/.bash_profile</code> > <code>~/.bashrc</code> > <code>/etc/bashrc</code></p></li>\n<li><p>使用su切换用户，如 su someuser <br />\n加载顺序：\n<code>~/.bashrc</code> > <code>/etc/bashrc</code> > <code>/etc/profile.d/*.sh</code></p></li>\n<li><p>ssh连接至非交互环境执行命令 <br />\n加载顺序(与2相同)：\n<code>~/.bashrc</code> > <code>/etc/bashrc</code> > <code>/etc/profile.d/*.sh</code></p></li>\n</ol>\n\n<p>并且Linux环境加载某个配置文件时，该文件内部有主动加载的配置也会同步地加载（就像传统的方法调用那样），比如 /etc/profile.d/lang.sh 可能会加载 /etc/sysconfig/i18n</p>\n\n<p>以及后面声明的环境变量值会覆盖掉之前的同名变量。</p>\n\n<h4 id=\"\">验证</h4>\n\n<p>在我的机器(CentOS 7.0) 上做测试，编辑上述文件，加入不同的环境变量，赋值为当前时间。</p>\n\n<p>例如在<code>/etc/profile</code>行首加入: </p>\n\n<pre><code>export TEST_ETC_PROFILE=`date +'%c %N'`\n</code></pre>\n\n<p>其余以此类推。</p>\n\n<h5 id=\"\">测试结果：</h5>\n\n<p><img src=\"http://img.blog.csdn.net/20150513234734253\" alt=\"测试结果\" /></p>\n\n<p>从时间戳可以看出，上述加载顺序是正确的。</p>\n\n<h4 id=\"\">结论</h4>\n\n<ol>\n<li><p>原则上<strong>不推荐</strong>对<code>/etc/profile</code>做任何更改，（在<code>/etc/profile</code> 头部的注释中就能看到），主要应该是基于维护成本考虑。</p></li>\n<li><p><code>/etc/profile.d/*.sh</code>总是会加载，无论是登录进入bash还是su进入bash都会加载，因此<strong>系统级别</strong>的变量配置脚本推荐放入<code>/etc/profile.d/</code>下。（注意后缀名和权限）。</p></li>\n<li><p>对bash本身的自定义配置推荐写在<code>~/.bash_profile</code>里。</p></li>\n<li><p>自写自用的辅助脚本需要加到<code>$PATH</code>的（如 <code>PATH=$PATH:/opt/scripts</code> ），推荐写在<code>~/.bashrc</code>里。需要多用户共用的，则放在<code>/etc/bashrc</code>里。</p></li>\n</ol>\n\n<p>更多详情参见 CentOS官方文档 <sup id=\"fnref:4\"><a href=\"#fn:4\" rel=\"footnote\">4</a></sup> , 解释比较全面，好顶赞！</p>\n\n<div class=\"footnotes\"><ol><li class=\"footnote\" id=\"fn:1\"><p><a href=\"http://www.baike.com/wiki/%E5%B0%BF%E6%80%A7\">尿性_互动百科</a> <a href=\"#fnref:1\" title=\"return to article\">↩</a></p></li>\n\n<li class=\"footnote\" id=\"fn:2\"><p><a href=\"http://www.zhihu.com/question/25696682\">知乎 - Linux 下 “一切皆文件” 思想的本质和好处在哪里？</a> <a href=\"#fnref:2\" title=\"return to article\">↩</a></p></li>\n\n<li class=\"footnote\" id=\"fn:3\"><p><a href=\"http://baike.baidu.com/view/598090.htm\">《主角与配角》经典台词</a> <a href=\"#fnref:3\" title=\"return to article\">↩</a></p></li>\n\n<li class=\"footnote\" id=\"fn:4\"><p><a href=\"http://centoshowtos.org/environment-variables/\">Configuration / Environment Variables | CentOS HowTos</a> <a href=\"#fnref:4\" title=\"return to article\">↩</a></p></li></ol></div>","image":"","featured":0,"page":0,"status":"published","language":"en_US","meta_title":"Linux环境变量配置 CentOS7安装 Java环境配置","meta_description":"Linux通常有以下几个环境配置文件：/etc/profile /etc/profile.d/*.sh...不同场景下配置文件加载的机制也不同，这里我们分情况来说。1. 用户正常登录（密码或公钥）进入bash环境。加载顺序：`/etc/profile` > `/etc/profile.d/*.sh` 2.","author_id":1,"created_at":"2015-05-20T14:21:53.000Z","created_by":1,"updated_at":"2015-05-21T12:58:57.000Z","updated_by":1,"published_at":"2015-05-20T15:30:00.000Z","published_by":1}],"posts_tags":[{"id":10,"post_id":1,"tag_id":1},{"id":11,"post_id":2,"tag_id":2}],"roles":[{"id":1,"uuid":"dcb16d97-cf48-483e-96d5-14fa3ea5f2b0","name":"Administrator","description":"Administrators","created_at":"2015-05-20T13:04:02.000Z","created_by":1,"updated_at":"2015-05-20T13:04:02.000Z","updated_by":1},{"id":2,"uuid":"ab7a8572-591d-4b62-a8e6-d53fd0695b4c","name":"Editor","description":"Editors","created_at":"2015-05-20T13:04:02.000Z","created_by":1,"updated_at":"2015-05-20T13:04:02.000Z","updated_by":1},{"id":3,"uuid":"9128e7b5-29ef-404b-82eb-a1626cde703a","name":"Author","description":"Authors","created_at":"2015-05-20T13:04:02.000Z","created_by":1,"updated_at":"2015-05-20T13:04:02.000Z","updated_by":1},{"id":4,"uuid":"dd7e9008-03b2-43c1-b196-8ca7e91e98d0","name":"Owner","description":"Blog Owner","created_at":"2015-05-20T13:04:02.000Z","created_by":1,"updated_at":"2015-05-20T13:04:02.000Z","updated_by":1}],"roles_users":[{"id":1,"role_id":4,"user_id":1}],"settings":[{"id":1,"uuid":"66d3226a-27c4-4840-a5f7-17a09fd49d30","key":"databaseVersion","value":"003","type":"core","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-20T13:04:06.000Z","updated_by":1},{"id":2,"uuid":"52c4263b-78f9-4984-9c9c-c228db7ea958","key":"dbHash","value":"ebf63dab-8038-4839-956f-d884fc33a6f7","type":"core","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-20T13:04:06.000Z","updated_by":1},{"id":3,"uuid":"69f4cca1-ba3a-4e21-a940-a80026ca0476","key":"nextUpdateCheck","value":"1432390437","type":"core","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T14:13:57.000Z","updated_by":1},{"id":4,"uuid":"fcf5a028-30ce-4709-a4b0-b4ffc446f0ff","key":"displayUpdateNotification","value":"0.5.0","type":"core","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T14:13:57.000Z","updated_by":1},{"id":5,"uuid":"da8d4029-8a3e-4e84-84f2-6527ba476e98","key":"title","value":"Practice makes perfect.","type":"blog","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T15:03:33.000Z","updated_by":1},{"id":6,"uuid":"c9a7aee6-01ee-4802-b468-405856123762","key":"description","value":"The wheels I reinvented  - Qiushi 's blog","type":"blog","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T15:03:33.000Z","updated_by":1},{"id":7,"uuid":"7a601309-b0a8-4b0c-91ae-4154ad9abfda","key":"email","value":"wenqs27@gmail.com","type":"blog","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T15:03:33.000Z","updated_by":1},{"id":8,"uuid":"5d9b2f0f-8084-411e-b067-1eccf963e686","key":"logo","value":"","type":"blog","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T15:03:33.000Z","updated_by":1},{"id":9,"uuid":"f713a0ed-9af4-41c3-87e2-fa79255bd1d1","key":"cover","value":"https://c1.staticflickr.com/9/8157/7148166547_a6f6edabf1_b.jpg","type":"blog","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T15:03:33.000Z","updated_by":1},{"id":10,"uuid":"db4deb14-729a-485a-93c0-04f8509f4739","key":"defaultLang","value":"en_US","type":"blog","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T15:03:33.000Z","updated_by":1},{"id":11,"uuid":"3d7cfc3e-c97a-4fe3-ac4e-3597758b8c40","key":"postsPerPage","value":"10","type":"blog","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T15:03:33.000Z","updated_by":1},{"id":12,"uuid":"3a6fd6eb-4005-4355-98ca-4d5003ef9ced","key":"forceI18n","value":"true","type":"blog","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T15:03:33.000Z","updated_by":1},{"id":13,"uuid":"ec7d4949-9f2c-48e8-9ae8-da531646693c","key":"permalinks","value":"/:slug/","type":"blog","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T15:03:33.000Z","updated_by":1},{"id":14,"uuid":"c9353032-fa46-491d-a1da-e55352bea8cd","key":"ghost_head","value":"","type":"blog","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T15:03:33.000Z","updated_by":1},{"id":15,"uuid":"1a6b0edc-ec94-4df8-b6d1-748d42275b78","key":"ghost_foot","value":"<div class=\"post\">\n    <footer class=\"post-footer\">\n        <p>\n            <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc/4.0/\">\n                <img alt=\"知识共享许可协议\" style=\"border-width:0\" src=\"https://i.creativecommons.org/l/by-nc/4.0/88x31.png\">\n            </a>\n            <br>\n            除特殊说明，本站作品均由<a xmlns:cc=\"http://creativecommons.org/ns#\" href=\"http://wenqiushi.daoapp.io\" property=\"cc:attributionName\" rel=\"cc:attributionURL\">wenqs</a>创作，并采用<a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc/4.0/\">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可。\n            <br>\n            Unless otherwise noted, content on <a xmlns:cc=\"http://creativecommons.org/ns#\" href=\"http://wenqiushi.daoapp.io\" property=\"cc:attributionName\" rel=\"cc:attributionURL\">this site</a> is licensed under a <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc/4.0/\">Creative Commons Attribution-NonCommercial 4.0 International License</a>.\n            <br>\n        </p>\n    </footer>\n</div>\n","type":"blog","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T15:03:33.000Z","updated_by":1},{"id":16,"uuid":"e2a73c9b-d791-4bcf-88bb-6ce367bbeab1","key":"labs","value":"{}","type":"blog","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T15:03:33.000Z","updated_by":1},{"id":17,"uuid":"f86e01a4-54c9-46e7-a7f6-78f376f357fd","key":"navigation","value":"[{\"label\":\"Home\",\"url\":\"/\"},{\"label\":\"linux\",\"url\":\"/tag/linux/\"},{\"label\":\"git\",\"url\":\"/tag/git/\"},{\"label\":\"Java\",\"url\":\"/tag/java/\"},{\"label\":\".NET\",\"url\":\"/tag/dot-net/\"},{\"label\":\"python\",\"url\":\"/tag/python/\"},{\"label\":\"groovy\",\"url\":\"/tag/groovy/\"}]","type":"blog","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T15:03:33.000Z","updated_by":1},{"id":18,"uuid":"cad75922-1066-4435-8a56-c8e7edfd8cc3","key":"activeApps","value":"[]","type":"app","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-20T13:04:06.000Z","updated_by":1},{"id":19,"uuid":"e2664d25-a075-49cb-9d80-705f34f56c38","key":"installedApps","value":"[]","type":"app","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-21T11:47:04.000Z","updated_by":1},{"id":20,"uuid":"4186b5cc-b17d-4238-a021-63caec78b43e","key":"activeTheme","value":"casper","type":"theme","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-22T15:03:33.000Z","updated_by":1}],"tags":[{"id":1,"uuid":"558e19f7-4703-435d-8fb4-b04440a64b69","name":"Getting Started","slug":"getting-started","description":null,"image":null,"hidden":0,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2015-05-20T13:04:02.000Z","created_by":1,"updated_at":"2015-05-20T13:04:02.000Z","updated_by":1},{"id":2,"uuid":"d8ffdb90-ce32-4bb4-b6a2-28a469dd6b15","name":"linux","slug":"linux","description":"","image":"http://upload.wikimedia.org/wikipedia/commons/archive/b/b0/20060213062257%21NewTux.svg","hidden":0,"parent_id":null,"meta_title":"blogs about linux","meta_description":"","created_at":"2015-05-21T12:48:09.000Z","created_by":1,"updated_at":"2015-05-21T12:57:47.000Z","updated_by":1},{"id":3,"uuid":"c0170834-57ce-440d-afc3-904e5ec69ad7","name":"git","slug":"git","description":"","image":"http://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/Git-logo.svg/320px-Git-logo.svg.png","hidden":0,"parent_id":null,"meta_title":"blogs about git","meta_description":null,"created_at":"2015-05-21T12:49:04.000Z","created_by":1,"updated_at":"2015-05-21T12:54:46.000Z","updated_by":1},{"id":4,"uuid":"c8b881d7-ce4a-4747-86ee-6c770e7bad19","name":".NET","slug":"dot-net","description":"","image":"http://upload.wikimedia.org/wikipedia/commons/5/52/Microsoft_NET_logo_old.svg","hidden":0,"parent_id":null,"meta_title":"blogs about .NET C# WPF","meta_description":null,"created_at":"2015-05-21T13:08:01.000Z","created_by":1,"updated_at":"2015-05-21T13:08:59.000Z","updated_by":1},{"id":5,"uuid":"169729b3-8a41-4ab6-af7a-5717e5dcaa67","name":"Java","slug":"java","description":"","image":"http://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Java_logo_and_wordmark.svg/262px-Java_logo_and_wordmark.svg.png","hidden":0,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2015-05-21T13:09:09.000Z","created_by":1,"updated_at":"2015-05-21T13:23:47.000Z","updated_by":1},{"id":6,"uuid":"60135293-ad82-41d3-a3b3-749d9df98edd","name":"groovy","slug":"groovy","description":"","image":"http://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Groovy-logo.svg/640px-Groovy-logo.svg.png","hidden":0,"parent_id":null,"meta_title":"blogs about groovy and grails","meta_description":null,"created_at":"2015-05-21T13:12:58.000Z","created_by":1,"updated_at":"2015-05-21T13:13:16.000Z","updated_by":1},{"id":7,"uuid":"0091ae9f-ee37-42be-a9a2-04f4d2d47f9b","name":"python","slug":"python","description":"","image":"http://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Python-logo-notext.svg/480px-Python-logo-notext.svg.png","hidden":0,"parent_id":null,"meta_title":"blogs about python","meta_description":null,"created_at":"2015-05-21T13:19:47.000Z","created_by":1,"updated_at":"2015-05-21T13:19:58.000Z","updated_by":1}],"users":[{"id":1,"uuid":"fe97f8a5-dfee-4c0f-bf76-3588564529fd","name":"Wen Qiushi","slug":"wen","password":"$2a$10$OwMKPNr0DlwpWnTqAGqjiuxeijkGm6N.wa8LdXvT7XN0d/wt36J4i","email":"wenqs27@163.com","image":null,"cover":"","bio":"Java & .NET developer. Love cooking and coding.","website":"","location":"Guangzhou, China","accessibility":null,"status":"active","language":"en_US","meta_title":null,"meta_description":null,"last_login":"2015-05-21T03:31:25.000Z","created_at":"2015-05-20T13:04:06.000Z","created_by":1,"updated_at":"2015-05-21T07:17:36.000Z","updated_by":1}]}}]}